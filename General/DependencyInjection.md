# Dependency injection 說明

## 簡介
讓服務不去控制內部類別，而是改成外部去控制，這個概念就是控制反轉，這樣就能自由加入需要的類別，大大增加擴展性與測試性。

## 簡介
根據依賴反轉原則，具體實現則應該依賴於抽象介面。我們必須了解到：並不是高階模組去依賴低階模組，而是高階模組提出它需要的功能，低階模組去實作出這些功能、達成高階模組的目標，這也比較接近我們開發程式時的思維。例如說我們需要「會員查詢」功能，才用「DB 連線方法」和「資料篩選方法」等具體方式去達成我們要「會員查詢」這個目標。「會員查詢」程式碼不應該因為「DB 連線方法」和「資料篩選方法」有所不同而更改。

## 依賴注入涉及概念
+ 服務：任何類，提供了有用功能。
+ 客戶：使用服務的類。
+ 介面：客戶不應該知道服務實現的細節，只需要知道服務的名稱和 API。
+ 注入器：負責把服務引入給客戶。

## 注入方式
+ 建構子注入：依賴由客戶對象的建構函式傳入。
+ Setter 注入：客戶對象暴露一個能接收依賴的 setter 方法。
+ 介面注入：依賴的介面提供一個注入器方法，該方法會把依賴注入到任意一個傳給它的客戶。

## 自動注入框架
java springboot, go wire

## 優點
+ 測試性提升： 通過依賴注入，我們可以將虛擬的相依物件注入到類中，從而使單元測試更加輕鬆。這種方式下，我們可以專注於測試類的行為，而不需要實際創建相依物件。
+ 鬆散耦合： 依賴注入降低了類之間的耦合度，使不同模塊更加獨立。這使得程式碼更加靈活和易於修改。
+ 可維護性提升： 依賴注入使程式碼的組織更加清晰，類不再負責管理相依物件，使程式碼更易於理解和維護。

## 缺點
循環依賴：在使用依賴注入時，有時可能會出現循環依賴的情況，即不同的類彼此相互依賴，形成一個閉環。這種情況下，必須謹慎設計類之間的相依關係，以避免循環依賴導致程式碼難以理解和維護。